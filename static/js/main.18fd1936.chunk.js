(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(44)},30:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);a(30);var n=a(0),l=a.n(n),c=a(22),r=a.n(c),s=a(3),i=a(2),o=a(14),u=a.n(o);var m=a(12);function d(e){var t=Object(m.h)().pathname,a=l.a.useRef(),n=l.a.useState(!1),c=Object(i.a)(n,2),r=c[0],s=c[1];return l.a.useEffect(function(){s(!1)},[t]),function(e,t){var a=l.a.useRef(t);l.a.useEffect(function(){a.current=t},[t]),l.a.useEffect(function(){var t=function(t){e.current&&!e.current.contains(t.target)&&a.current(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[e,a])}(a,function(){return s(!1)}),l.a.createElement("nav",{ref:a,className:"navbar",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement(d.Link,{href:"http://mercadito-aleman.herokuapp.com/"},l.a.createElement(d.Logo,null)),l.a.createElement(d.ToggleButton,{onClick:function(){return s(!r)},className:u()({"is-active":r})})),l.a.createElement("div",{className:u()("navbar-menu",{"is-active":r})},e.children))}function p(){return l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"title"}," Login "),l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-image"},l.a.createElement("figure",{class:"image is-4by3"},l.a.createElement("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})))),l.a.createElement("br",null),l.a.createElement("div",{class:"field"},l.a.createElement("p",{class:"control has-icons-left has-icons-right"},l.a.createElement("input",{class:"input",type:"email",placeholder:"Email"}),l.a.createElement("span",{class:"icon is-small is-left"},l.a.createElement("i",{class:"fas fa-envelope"})),l.a.createElement("span",{class:"icon is-small is-right"},l.a.createElement("i",{class:"fas fa-check"})))),l.a.createElement("div",{class:"field"},l.a.createElement("p",{class:"control has-icons-left"},l.a.createElement("input",{class:"input",type:"password",placeholder:"Password"}),l.a.createElement("span",{class:"icon is-small is-left"},l.a.createElement("i",{class:"fas fa-lock"})))),l.a.createElement("div",{class:"field"},l.a.createElement("p",{class:"control"},l.a.createElement("button",{class:"button is-success"},"Login")))))}d.Link=function(e){var t=u()("navbar-item",e.className);return e.href?l.a.createElement("a",Object.assign({},e,{className:t})):l.a.createElement(s.c,Object.assign({},e,{className:t,activeClassName:"is-active"}))},d.ToggleButton=function(e){return l.a.createElement("a",Object.assign({},e,{role:"button",className:u()("navbar-burger burger is-unselectable",e.className),"aria-label":"menu","aria-expanded":"false"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))},d.Logo=function(){return l.a.createElement("img",{src:"../imagen_mercadito.jpg",width:"45",height:"45",alt:"logo"})};var E=a(8),b=a(9),v=a(11),f=a(10);function h(){return l.a.createElement(d,null,l.a.createElement("div",{className:"navbar-end"},l.a.createElement(d.Link,{to:"/Dashboard",exact:!0},"Dashboard"),l.a.createElement(d.Link,{to:"/ZoneDashboard"},"Zonas"),l.a.createElement(d.Link,{to:"/Inventary"},"Inventario"),l.a.createElement("div",{className:"navbar-item"})))}function g(e){e.uid;var t=e.name,a=e.description;return l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column"},l.a.createElement("div",{class:"card"},l.a.createElement("header",{class:"card-header"},l.a.createElement("p",{className:"card-header-title"},t)),l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"content"},a,l.a.createElement("br",null))),l.a.createElement("footer",{class:"card-footer"},l.a.createElement(s.b,{class:"card-footer-item",to:"/ZoneDashboard"},"Revisar ",t)))))}var y=[{uid:"123",name:"Zonas",description:"Aqui se pueden revisar las areas en que se trabaja en el mercadito."},{uid:"1111111-11111-11111-11111-11111",name:"Trabajadores",description:"Area de gestion de contratos, documentos relacionados a los trabajadores, etc."}],j=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement("section",{class:"section"},l.a.createElement("div",null,y.map(function(e){return l.a.createElement(g,e)}))))}}]),a}(l.a.Component),O=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("section",{class:"hero is-warning is-fullheight"},l.a.createElement("br",null),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column"},"1"),l.a.createElement("div",{class:"column"},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"container"},l.a.createElement("img",{src:"../imagen_mercadito.jpg",width:"256",height:"256",alt:"logo"})))),l.a.createElement("div",{class:"column"},"3"),l.a.createElement("br",null))))}}]),a}(l.a.Component),w=a(4),k=a.n(w),_=a(5);function S(e){return C.apply(this,arguments)}function C(){return(C=Object(_.a)(k.a.mark(function e(t){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("https://manarea.xyz/".concat(t)),e.next=3,fetch(a,{method:"GET",mode:"cors",headers:{accept:"application/json"}}).then(function(e){return e.json()}).catch(function(){return console.log("Error de conexi\xf3n inesperado. Por favor, int\xe9ntelo m\xe1s tarde"),[]});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e,t){return x.apply(this,arguments)}function x(){return(x=Object(_.a)(k.a.mark(function e(t,a){var n,l,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("https://manarea.xyz/".concat(t)),l={},a&&(l=a),e.next=5,fetch(n,{method:"POST",body:l,headers:{"Content-Type":"application/json;charset=UTF-8",accept:"application/json"}}).then(function(e){return e.json()}).catch(function(){});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e,t){return D.apply(this,arguments)}function D(){return(D=Object(_.a)(k.a.mark(function e(t,a){var n,l,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("https://manarea.xyz/".concat(t)),l={},a&&(l=a),e.next=5,fetch(n,{method:"PUT",body:l,headers:{"Content-Type":"application/json",accept:"application/json"}}).then(function(e){return e.json()}).catch(function(){return null});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e,t){return I.apply(this,arguments)}function I(){return(I=Object(_.a)(k.a.mark(function e(t,a){var n,l,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("https://manarea.xyz/".concat(t)),l={},a&&(l=a),e.next=5,fetch(n,{method:"DELETE",body:l,headers:{"Content-Type":"application/json;charset=UTF-8",accept:"application/json"}}).then(function(e){return e.json()}).catch(function(){return null});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){var t=e.id,a=e.name,n=e.description;return l.a.createElement("div",null,l.a.createElement("section",{className:"section"},l.a.createElement("div",{class:"card"},l.a.createElement("header",{class:"card-header"},l.a.createElement("p",{class:"card-header-title"},a),l.a.createElement("button",{onClick:function(){L("area/"+t,JSON.stringify({}))},class:"button is-danger","aria-label":"more options"},"X")),l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"content"},l.a.createElement("label",{class:"label"},"Descripcion:"),n,l.a.createElement("br",null))),l.a.createElement("footer",{class:"card-footer"},l.a.createElement(s.b,{class:"card-footer-item",to:{pathname:"/Recipes",state:{id:t}}},"Recetas"),l.a.createElement(s.b,{class:"card-footer-item",to:{pathname:"/Registry",state:{id:t}}},"Registro"),l.a.createElement(s.b,{class:"card-footer-item",to:{pathname:"/History",state:{id:t}}},"Historial")))),l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-home"})))}function V(){Object(m.g)();return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);q("area",JSON.stringify({name:t.get("nombre"),description:t.get("descripcion"),recipies:[],stored_goods:{}})),window.location.reload()}},l.a.createElement("section",{class:"section"},l.a.createElement("label",{class:"label"},"Nombre de la Zona"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{required:!0,name:"nombre",class:"input",type:"text",placeholder:"Ej: Bodega"}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Descripcion de la Zona"),l.a.createElement("div",{class:"control"},l.a.createElement("textarea",{required:!0,name:"descripcion",class:"textarea",placeholder:"Ej: En esta zona donde se guardan los diferentes insumos..."}))),l.a.createElement("button",{class:" button is-primary",type:"submit"},"Submit"))))}var A=0;function z(e){var t=l.a.useState([]),a=Object(i.a)(t,2),c=a[0],r=a[1];function s(){return(s=Object(_.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("area");case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return A=1e3,Object(n.useEffect)(function(){var e=setInterval(function(){!function(){s.apply(this,arguments)}(),console.log("Logs every minute"),c},A);return function(){return clearInterval(e)}},[]),c,l.a.createElement(P,{cosas:c})}var P=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).clickList=function(){n.setState({class_1:"is-active",class_2:"",style_1:"block",style_2:"none"})},n.clickAddZone=function(){n.setState({class_1:"",class_2:"is-active",style_1:"none",style_2:"block"})},n.state={class_1:"is-active",style_1:"block",class_2:"",style_2:"none"},n}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement("div",{class:"tabs is-toggle is-fullwidth is-large"},l.a.createElement("ul",{class:"is-mobile"},l.a.createElement("li",{class:this.state.class_1},l.a.createElement("a",{onClick:this.clickList},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-image","aria-hidden":"true"})),l.a.createElement("span",null,"Zonas"),l.a.createElement("div",{style:{display:this.state.class_1?"is-active":""}}))),l.a.createElement("li",{class:this.state.class_2},l.a.createElement("a",{onClick:this.clickAddZone},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-music","aria-hidden":"true"})),l.a.createElement("span",null,"Crear Zona"))))),l.a.createElement("div",{style:{display:this.state.class_1?"":"none"}},void 0===this.props.cosas?alert(this.props.cosas):this.props.cosas.map(function(e){return l.a.createElement(R,e)})),l.a.createElement("div",{style:{display:this.state.class_2?"":"none"}},l.a.createElement(V,null)))}}]),a}(l.a.Component);function T(e){return Object.keys(e)}var Z=[],J=T({Harina:{quantity:1,weight:.5},Sal:{quantity:1,weight:.5},"Az\xfacar":{quantity:1,weight:.5}})[0],F=1,H=1,U={},K={};function B(e){var t=Object(m.g)(),a=l.a.useState(""),c=Object(i.a)(a,2),r=(c[0],c[1]),s=l.a.useState(""),o=Object(i.a)(s,2),u=(o[0],o[1]),d=l.a.useState(""),p=Object(i.a)(d,2),E=(p[0],p[1]),b=l.a.useState({}),v=Object(i.a)(b,2),f=(v[0],v[1]),h=l.a.useState([]),g=Object(i.a)(h,2),y=g[0],j=g[1];function O(){return(O=Object(_.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("goods");case 2:Z=e.sent,t=[],Object.keys(Z).map(function(e){return t.push(Z[e].name)}),j(t);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){var e=setInterval(function(){!function(){O.apply(this,arguments)}()},1e3);return function(){return clearInterval(e)}});var w=function(e){var t=e.target.value.split(","),a=t[0],n=function(e,t){var a="";return Object.keys(t).forEach(function(n){t[n].name===e&&(a=n)}),a}(a,Z),l={quantity:t[1],weight:t[2],uid:n};U[a]=l,f.apply(void 0,[t]),K[t[0]]={quantity:t[1],weight:t[2],uid:n}},C=function(e){delete U[e.target.value],r(e.target.value)};return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n=new FormData(a.currentTarget);q("area/"+e.id_zona+"/add_recipe",JSON.stringify({name:n.get("receta"),description:n.get("descripcion"),author:n.get("autor"),ingredients:K})),t.push("/ZoneDashboard",{id:e.id_zona})}},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"control"},l.a.createElement("input",{required:!0,name:"receta",class:"input",type:"text",placeholder:"Nombre de la receta."}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{required:!0,name:"descripcion",class:"input ",type:"text",placeholder:"Descripcion"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{required:!0,name:"autor",class:"input ",type:"text",placeholder:"Autor"}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter "},l.a.createElement("label",{class:"label"},"Ingrediente"),l.a.createElement("div",{class:"select is-fullwidth "},l.a.createElement("select",{name:"nombre",value:J,onChange:function(e){r(e.target.value),J=e.target.value}},y.map(function(e){return l.a.createElement("option",null,e)})))),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Cantidad"),l.a.createElement("input",{class:"input ",type:"number",placeholder:"1",defaultValue:"1",onChange:function(e){E(e.target.value),H=e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Peso o unidades"),l.a.createElement("input",{class:"input ",type:"number",step:".01",placeholder:"1",defaultValue:"1",onChange:function(e){u(e.target.value),F=e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Agregar"),l.a.createElement("button",{class:"button is-link",value:[J,H,F],onClick:function(e){w(e)},type:"button"},"+"))),l.a.createElement("section",{class:"section"},l.a.createElement("h1",{class:"title"},"Ingredientes"),l.a.createElement("ul",null,T(U).map(function(e){return l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter"},l.a.createElement("li",null,e," - Cantidad: ",U[e].quantity," -"," ","Peso:",U[e].weight," Kg")),l.a.createElement("div",{class:"column"},l.a.createElement("button",{class:"button is-link",value:e,onClick:C,type:"button"},"x")))}))),l.a.createElement("button",{class:" button is-primary ",type:"submit"},"Submit"))))}function G(e){var t=Object(m.g)();var a;return l.a.createElement("div",null,l.a.createElement("section",{className:"section"},l.a.createElement("div",{class:"card"},l.a.createElement("header",{class:"card-header"},l.a.createElement("p",{class:"card-header-title"},e.row.name," by: ",e.row.author," ")),l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-mobile "},l.a.createElement("p",null,"Costo: $ ",e.row.cost),l.a.createElement("p",null,"Precio Venta: $",e.row.price),"Ingredientes:",l.a.createElement("ul",null,(a=e,Object.keys(a.row.ingredients)).map(function(t){return l.a.createElement("li",null,console.log(e),t," :"," ",e.row.ingredients[t].quantity*e.row.ingredients[t].weight," ","KG"," ")})),l.a.createElement("br",null)),l.a.createElement("div",{class:"column is-mobile "},l.a.createElement("figure",{class:"image is-256x256"},l.a.createElement("img",{src:"https://roggendorf.cl/wp-content/uploads/2016/12/Hallullas-min.jpg"})))))),l.a.createElement("footer",{class:"card-footer"},l.a.createElement(s.b,{class:"card-footer-item",to:{pathname:"/EditRecipe",state:e}},"Editar"),l.a.createElement("a",{onClick:function(a){L("area/"+e.id_zona+"/remove_recipe/"+e.row.uid,JSON.stringify({})),t.push("/Recipes",{id:e.id_zona})},class:"card-footer-item"},"Eliminar")))),l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-home"})))}var Y=[],M=0,$=0;function X(e){Object(m.g)(),Object(m.i)().handle;var t=Object(m.h)();t.state,M=t.state.id;var a=l.a.useState([]),c=Object(i.a)(a,2),r=c[0],s=c[1];function o(){return(o=Object(_.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("area/"+M+"/get_all_recipies");case 2:t=e.sent,console.log("RECIPES",t),console.log("Lolazo",Object.keys(t).includes("message")),1==Object.keys(t).includes("message")?Y=void 0:(Y=t,s(t));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}return $=1e3,Object(n.useEffect)(function(){var e=setInterval(function(){!function(){o.apply(this,arguments)}(),console.log("Logs every minute")},$);return function(){return clearInterval(e)}}),Y=r,console.log("recetas",Y),l.a.createElement("div",null,l.a.createElement(Q,M))}var Q=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).clickList=function(){n.setState({class_1:"is-active",class_2:"",style_1:"block",style_2:"none"})},n.clickAddRecipe=function(){n.setState({class_1:"",class_2:"is-active",style_1:"none",style_2:"block"})},n.state={class_1:"is-active",style_1:"block",class_2:"",style_2:"none"},n}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement("div",{class:"tabs is-toggle is-fullwidth is-large"},l.a.createElement("ul",null,l.a.createElement("li",{class:this.state.class_1},l.a.createElement("a",{onClick:this.clickList},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-image","aria-hidden":"true"})),l.a.createElement("span",null,"Recetas"),l.a.createElement("div",{style:{display:this.state.class_1?"is-active":""}}))),l.a.createElement("li",{class:this.state.class_2},l.a.createElement("a",{onClick:this.clickAddRecipe},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-music","aria-hidden":"true"})),l.a.createElement("span",null,"Crear Receta"))))),l.a.createElement("div",{style:{display:this.state.class_1?"":"none"}},void 0===Y?l.a.createElement("p",null,"nada por aca"):Y.map(function(e){return l.a.createElement(G,{row:e,id_zona:M})})),l.a.createElement("div",{style:{display:this.state.class_2?"":"none"}},l.a.createElement(B,{id_zona:M,props:this.state})))}}]),a}(l.a.Component),W="",ee=1,te={},ae=[];function ne(e){var t=(new Date).toLocaleDateString("en-CA"),a=Object(m.g)(),c=Object(m.h)(),r=l.a.useState([{}]),s=Object(i.a)(r,2),o=s[0],u=s[1],d=l.a.useState(""),p=Object(i.a)(d,2),E=p[0],b=p[1],v=l.a.useState(""),f=Object(i.a)(v,2),g=f[0],y=f[1],j=l.a.useState(""),O=Object(i.a)(j,2),w=(O[0],O[1]),C=l.a.useState({}),x=Object(i.a)(C,2),N=(x[0],x[1]),D=l.a.useState(""),L=Object(i.a)(D,2),I=L[0],R=L[1];function V(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(n.name==t)return n.uid}}function A(){return(A=Object(_.a)(k.a.mark(function e(){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("area/"+c.state.id+"/get_all_recipies");case 2:return a=e.sent,e.t0=u,e.next=6,a;case 6:return e.t1=e.sent,(0,e.t0)(e.t1),R(t),b(a[0].name),y(V(a,a[0].name)),e.next=13,a;case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(){A.apply(this,arguments)}()},1e3);var z=function(e){var t=e.target.value.split(","),a=t[0];te[a]={cantidad:t[1],uid:g},N(e.target.value)},P=function(e){delete te[e.target.value],b(e.target.value)};return ae=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push(n.name)}return t}(o),l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),alert(Object.keys(te[Object.keys(te)[0]]));var n={};Object.keys(te).map(function(e){return n[e]=te[e]}),alert(JSON.stringify(n)),q("area/"+c.state.id+"/add_registry",JSON.stringify({date:I,recipies_uids_add:n})),a.push("/ZoneDashboard",{id:e.id_zona})}},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-one-quarter "},l.a.createElement("label",{class:"label"},"Fecha"),l.a.createElement("input",{class:"input ",type:"date",placeholder:t,defaultValue:t,required:!0,onChange:function(e){R(e.target.value),t=e.target.value,te={},ae=[]}}))),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-one-quarter "},l.a.createElement("label",{class:"label"},"Receta"),l.a.createElement("div",{class:"select is-fullwidth "},l.a.createElement("select",{required:!0,name:"nombre",value:E,onChange:function(e){b(e.target.value),W=e.target.value,y(V(o,W))}},ae.map(function(e){return l.a.createElement("option",null,e)})))),l.a.createElement("div",{class:"column is-one-quarter "},l.a.createElement("label",{class:"label"},"Cantidad"),l.a.createElement("input",{class:"input ",type:"number",min:"1",max:"199",placeholder:"1",defaultValue:"1",onChange:function(e){w(e.target.value),ee=e.target.value},required:!0})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Agregar"),l.a.createElement("button",{class:"button is-link",value:[E,ee,I],onClick:function(e){z(e)},type:"button"},"+"))),l.a.createElement("h1",{class:"title "},"Recetas"),l.a.createElement("h2",{class:"subtitle"},l.a.createElement("ul",null,Object.keys(te).map(function(e){return l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter"},l.a.createElement("li",null,e," - ",te[e].cantidad)),l.a.createElement("div",{class:"column"},l.a.createElement("button",{class:"button is-link",value:e,onClick:P,type:"button"},"x")))})))),l.a.createElement("section",{class:"section"},l.a.createElement("button",{class:" button is-primary "},"Submit"),l.a.createElement("section",null))))}var le=a(28),ce=(a(41),a(27));a(42);function re(e){var t=e.recetas,a=e.resumen_insumos;return l.a.createElement("div",null,l.a.createElement("section",{className:"section"},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"content"},l.a.createElement("h1",{class:"title"},"Recetas"),l.a.createElement("ul",null,Object.keys(t).map(function(e){return l.a.createElement("li",null,"Nombre Receta: ",e," - Cantidad hecha: ",t[e])}))),l.a.createElement("div",{class:"content"},l.a.createElement("h1",{class:"title"},"Resumen Insumos"),l.a.createElement("ul",null,l.a.createElement("div",null,l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-one-quarter "},l.a.createElement("label",{class:"label"},"Nombre Ingrediente")),l.a.createElement("div",{class:"column is-three-quarter "},l.a.createElement("label",{class:"label"},"Cantidad ocupada")))),Object.keys(a).map(function(e){return l.a.createElement("div",null,l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-one-quarter "},e),l.a.createElement("div",{class:"column is-three-quarter "},a[e]," KG")))})))))),l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-home"})))}var se=a(25),ie=a.n(se),oe={id:1,calendar:{"2022-01-01":{recipies_uids:{"03d788f1-8aea-448d-87a2-93c4c850d370":5,"9246f6f6-017e-4b11-96ce-89b2e2e71432":5}},"2022-01-05":{recipies_uids:{"03d788f1-8aea-448d-87a2-93c4c850d370":1,"9246f6f6-017e-4b11-96ce-89b2e2e71432":1}},"2022-01-13":{recipies_uids:{"03d788f1-8aea-448d-87a2-93c4c850d370":3,"9246f6f6-017e-4b11-96ce-89b2e2e71432":1}}}},ue=[],me=0,de=0,pe=[],Ee=[{}],be={recetas:{},resumen_insumos:{}};function ve(){var e=Object(n.useState)(new Date),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(i.a)(r,2),o=s[0],u=s[1],d=Object(m.h)();function p(e){var t=be.recetas,a=be.resumen_insumos;e.forEach(function(e){0==Object.keys(t).includes(e.name)?t[e.name]=e.quantity:t[e.name]+=e.quantity,Object.keys(e.ingredients).map(function(t){0==Object.keys(a).includes(t)?a[t]=e.ingredients[t].quantity*e.ingredients[t].weight:a[t]+=e.ingredients[t].quantity*e.ingredients[t].weight})}),u.apply(void 0,[o])}function E(){return(E=Object(_.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("area/".concat(d.state.id,"/get_all_registries"));case 2:t=e.sent,a=oe=t,ue=Object.keys(a),u.apply(void 0,[o]);case 6:case"end":return e.stop()}var a},e)}))).apply(this,arguments)}function b(){return(b=Object(_.a)(k.a.mark(function e(t,a){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("area/".concat(d.state.id,"/get_recipe/").concat(t));case 2:return(n=e.sent).quantity=a,Ee.push(n),u.apply(void 0,[n]),"Recipe not found"==n.message||p([n]),n.quantity=a,Ee.push(n),u.apply(void 0,[n]),e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){var e=setInterval(function(){!function(){E.apply(this,arguments)}(),u.apply(void 0,Object(le.a)(o)),console.log("Logs every minute")},1e3);return function(){return clearInterval(e)}},[]),l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement("div",null,l.a.createElement("section",{class:"section "},l.a.createElement("div",{class:"columns is-centered is-mobile"},l.a.createElement("div",{className:"result-calendar "},l.a.createElement(ce.a,{onChange:function(e){c(e),me=e[0].toLocaleDateString("en-CA"),de=e[1].toLocaleDateString("en-CA"),pe=[],Ee=[],be={recetas:{},resumen_insumos:{}};for(var t=new Date(me);t<=new Date(de);){pe.push(t.toISOString("en-CA").slice(0,10));var a=t.setDate(t.getDate()+1);t=new Date(a)}pe.forEach(function(e){!0===Object.keys(oe).includes(e)&&Object.keys(oe[e].recipies_uids).forEach(function(t){!function(e,t){b.apply(this,arguments)}(t,oe[e].recipies_uids[t])})})},value:a,selectRange:!0,markingType:"multi-dot",tileContent:function(e){var t=e.date;e.view;if(ue.find(function(e){return e===ie()(t).format("YYYY-MM-DD")}))return l.a.createElement("svg",{height:"14.5",width:"7"},l.a.createElement("circle",{cx:"3.5",cy:"3.7",r:"3",stroke:"black","stroke-width":"1",fill:"#13c6e7"}))}}))),0==Object.keys(be.recetas).length?null:l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter"},l.a.createElement("ul",null,l.a.createElement("div",null,l.a.createElement(re,be))))))))}a(26);var fe=[];function he(e){return Object.keys(e)}var ge=he({Harina:{quantity:1,weight:.5},Sal:{quantity:1,weight:.5},"Az\xfacar":{quantity:1,weight:.5}})[0],ye=1,je=1,Oe={},we={};function ke(e){Object(m.i)().handle;var t=Object(m.h)(),a=Object(m.g)(),c=l.a.useState(""),r=Object(i.a)(c,2),s=(r[0],r[1]),o=l.a.useState(""),u=Object(i.a)(o,2),d=(u[0],u[1]),p=l.a.useState(""),E=Object(i.a)(p,2),b=(E[0],E[1]),v=l.a.useState(""),f=Object(i.a)(v,2),g=(f[0],f[1],l.a.useState({})),y=Object(i.a)(g,2),j=(y[0],y[1]),O=l.a.useState([]),w=Object(i.a)(O,2),C=w[0],q=w[1];function x(){return(x=Object(_.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("goods");case 2:fe=e.sent,t=[],Object.keys(fe).map(function(e){return t.push(fe[e].name)}),q(t);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){var e=setInterval(function(){!function(){x.apply(this,arguments)}()},1e3);return function(){return clearInterval(e)}});var D=function(e){var t=e.target.value.split(","),a=t[0],n={quantity:t[1],weight:t[2]},l=function(e,t){var a="";return Object.keys(t).forEach(function(n){t[n].name===e&&(a=n)}),a}(a,fe);Oe[a]=n,j.apply(void 0,[t]),we[t[0]]={quantity:t[1],weight:t[2],uid:l}},L=function(e){delete Oe[e.target.value],s(e.target.value)},I=t.state;return Oe=I.row.ingredients,we=I.row.ingredients,l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);console.log({receta:t.get("receta"),descripcion:t.get("descripcion"),autor:t.get("autor")}),N("area/"+I.id_zona+"/update_recipe/"+I.row.uid,JSON.stringify({name:t.get("receta"),description:t.get("descripcion"),author:t.get("autor"),price:t.get("price"),ingredients:we})),a.push("/Recipes",{id:I.id_zona})}},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"control",onLoad:function(e){s(e.target.value)},value:"asd"},l.a.createElement("input",{required:!0,name:"receta",class:"input",type:"text",placeholder:"Nombre de la receta",defaultValue:I.row.name||""}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{required:!0,name:"descripcion",class:"input ",type:"text",placeholder:"Descripcion",defaultValue:I.row.description||""}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{required:!0,name:"autor",class:"input ",type:"text",placeholder:"Autor",defaultValue:I.row.author||""}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{class:"label"},"Precio"),l.a.createElement("input",{required:!0,name:"price",class:"input ",type:"number",step:".01",placeholder:"Precio final",defaultValue:I.row.price||""}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter "},l.a.createElement("label",{class:"label"},"Ingrediente"),l.a.createElement("div",{class:"select is-fullwidth "},l.a.createElement("select",{name:"nombre",value:ge,onChange:function(e){s(e.target.value),ge=e.target.value}},C.map(function(e){return l.a.createElement("option",null,e)})))),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Cantidad"),l.a.createElement("input",{class:"input ",type:"number",placeholder:"1",defaultValue:"1",onChange:function(e){b(e.target.value),je=e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Peso"),l.a.createElement("input",{class:"input ",type:"number",step:".01",placeholder:"1",defaultValue:"1",onChange:function(e){d(e.target.value),ye=e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Agregar"),l.a.createElement("button",{class:"button is-link",value:[ge,je,ye],onClick:function(e){D(e)},type:"button"},"+"))),l.a.createElement("section",{class:"section"},l.a.createElement("h1",{class:"title"},"Ingredientes"),l.a.createElement("ul",null,he(Oe).map(function(e){return l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter"},l.a.createElement("li",null,e," - Cantidad: ",Oe[e].quantity," -"," ","Peso:",Oe[e].weight," Kg")),l.a.createElement("div",{class:"column"},l.a.createElement("button",{class:"button is-link",value:e,onClick:L,type:"button"},"x")))}))),l.a.createElement("button",{class:" button is-primary ",type:"submit"},"Submit"))))}var _e;(_e={Harina:{quantity:1,weight:.5},Sal:{quantity:1,weight:.5},"Az\xfacar":{quantity:1,weight:.5}},Object.keys(_e))[0];function Se(e){Object(m.g)();var t=l.a.useState("Codigo de barra no detectado"),a=Object(i.a)(t,2),n=a[0],c=(a[1],l.a.useState("")),r=Object(i.a)(c,2),s=(r[0],r[1]),o=l.a.useState(""),u=Object(i.a)(o,2),d=(u[0],u[1]),p=l.a.useState(""),E=Object(i.a)(p,2),b=(E[0],E[1]),v=l.a.useState(""),f=Object(i.a)(v,2),h=(f[0],f[1]),g=l.a.useState(""),y=Object(i.a)(g,2),j=(y[0],y[1]),O=l.a.useState({}),w=Object(i.a)(O,2),k=(w[0],w[1],l.a.useState("")),_=Object(i.a)(k,2);_[0],_[1];return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget);console.log({name:a.get("nombre"),weight:a.get("peso"),price:a.get("precio"),cost:a.get("costo"),quantity:a.get("cantidad"),barcode:a.get("barcode")}),console.log("Enviando a Back",e.id_zona),q("goods",JSON.stringify({name:a.get("nombre"),weight:a.get("peso"),price:a.get("precio"),cost:a.get("costo"),quantity:a.get("cantidad")})),window.location.reload(!1),console.log("los pits",e)}},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"control"},l.a.createElement("label",{class:"label"},"Nombre del Producto"),l.a.createElement("input",{required:!0,name:"nombre",class:"input",type:"text",placeholder:"Nombre",onChange:function(e){s(e.target.value),e.target.value}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter "},l.a.createElement("label",{class:"label"},"Peso en Kg o unidades (Ej: En un paquete de harina viene un 1kg de harina. En una bandeja de huevos, vienen 30 huevos.)"),l.a.createElement("input",{class:"input ",type:"number",step:".01",placeholder:"1",defaultValue:"0",name:"peso",onChange:function(e){d(e.target.value),e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Precio"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{class:"input ",type:"number",step:".01",min:"0",placeholder:"0",defaultValue:"0",name:"precio",onChange:function(e){j(e.target.value),e.target.value}})))),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter "},l.a.createElement("label",{class:"label"},"Costo (Ej: Costo por el kilo o las 30 unidades)"),l.a.createElement("input",{class:"input ",type:"number",step:".01",min:"0",placeholder:"1500",defaultValue:"0",name:"costo",onChange:function(e){h(e.target.value),e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Cantidad (Ej: Cuantas bandejas o paquetes de harina hay en inventario.)"),l.a.createElement("input",{class:"input ",type:"number",step:".01",min:"0",placeholder:"0",defaultValue:"0",onChange:function(e){b(e.target.value),e.target.value},name:"cantidad"}))),l.a.createElement("input",{class:"input is-disabled",type:"text",defaultValue:"0",name:"barcode",value:n,disabled:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{class:" button is-primary ",type:"submit"},"Submit"))))}function Ce(e){var t=Object(m.g)();return l.a.createElement("div",null,l.a.createElement("section",{className:"section"},l.a.createElement("div",{class:"card"},l.a.createElement("header",{class:"card-header"},l.a.createElement("p",{class:"card-header-title"},e.name)),l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-mobile "},"Datos Insumo:",l.a.createElement("ul",null,Object.keys(e).map(function(t){return l.a.createElement("li",null,t,": ",e[t])})),l.a.createElement("br",null)),l.a.createElement("div",{class:"column is-mobile "},l.a.createElement("figure",{class:"image is-256x256"},l.a.createElement("img",{src:"https://roggendorf.cl/wp-content/uploads/2016/12/Hallullas-min.jpg"})))))),l.a.createElement("footer",{class:"card-footer"},l.a.createElement(s.b,{class:"card-footer-item",to:{pathname:"/EditGood",state:e}},"Editar"),l.a.createElement("a",{onClick:function(a){L("goods/".concat(e.uid),JSON.stringify({})),t.push("/Inventary")},class:"card-footer-item"},"Eliminar")))),l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-home"})))}var qe=[],xe=0;function Ne(e){Object(m.g)(),Object(m.i)().handle;Object(m.h)().state;var t=l.a.useState([]),a=Object(i.a)(t,2),c=a[0],r=a[1];function s(){return(s=Object(_.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("goods");case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){var e=setInterval(function(){!function(){s.apply(this,arguments)}(),console.log("Logs every minute")},1e3);return function(){return clearInterval(e)}}),qe=c,l.a.createElement("div",null,l.a.createElement(De,xe))}var De=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).clickList=function(){n.setState({class_1:"is-active",class_2:"",style_1:"block",style_2:"none"})},n.clickAddRecipe=function(){n.setState({class_1:"",class_2:"is-active",style_1:"none",style_2:"block"})},n.state={class_1:"is-active",style_1:"block",class_2:"",style_2:"none"},n}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement("div",{class:"tabs is-toggle is-fullwidth is-large"},l.a.createElement("ul",null,l.a.createElement("li",{class:this.state.class_1},l.a.createElement("a",{onClick:this.clickList},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-image","aria-hidden":"true"})),l.a.createElement("span",null,"Insumos"),l.a.createElement("div",{style:{display:this.state.class_1?"is-active":""}}))),l.a.createElement("li",{class:this.state.class_2},l.a.createElement("a",{onClick:this.clickAddRecipe},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-music","aria-hidden":"true"})),l.a.createElement("span",null,"Crear Insumo"))))),l.a.createElement("div",{style:{display:this.state.class_1?"":"none"}},Object.keys(qe).map(function(e){return l.a.createElement(Ce,qe[e])})),l.a.createElement("div",{style:{display:this.state.class_2?"":"none"}},l.a.createElement(Se,{props:this.state})))}}]),a}(l.a.Component);function Le(e){Object(m.i)().handle;var t=Object(m.h)(),a=Object(m.g)(),n=l.a.useState(""),c=Object(i.a)(n,2),r=(c[0],c[1]),s=l.a.useState(""),o=Object(i.a)(s,2),u=(o[0],o[1]),d=l.a.useState(""),p=Object(i.a)(d,2),E=(p[0],p[1]),b=l.a.useState(""),v=Object(i.a)(b,2),f=(v[0],v[1]),g=l.a.useState(""),y=Object(i.a)(g,2),j=(y[0],y[1]),O=t.state;return l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);N("goods/"+O.uid,JSON.stringify({name:t.get("nombre"),weight:t.get("peso"),price:t.get("precio"),cost:t.get("costo"),quantity:t.get("cantidad")})),a.push("/Inventary")}},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"control"},l.a.createElement("label",{class:"label"},"Nombre del Producto"),l.a.createElement("input",{required:!0,name:"nombre",class:"input",type:"text",placeholder:"Nombre",defaultValue:O.name||"",onChange:function(e){r(e.target.value),e.target.value}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter "},l.a.createElement("label",{class:"label"},"Peso en Kg (Opcional)"),l.a.createElement("input",{class:"input ",type:"number",step:".01",min:"0",placeholder:"1500",defaultValue:O.weight||"",name:"peso",onChange:function(e){u(e.target.value),e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Precio"),l.a.createElement("input",{class:"input ",type:"number",step:".01",min:"0",placeholder:"0",defaultValue:O.price||"",name:"precio",onChange:function(e){j(e.target.value),e.target.value}})))),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter "},l.a.createElement("label",{class:"label"},"Costo"),l.a.createElement("input",{class:"input ",type:"number",step:".01",min:"0",placeholder:"1500",name:"costo",onChange:function(e){f(e.target.value),e.target.value},defaultValue:O.cost||""})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Cantidad"),l.a.createElement("input",{class:"input ",type:"number",step:".01",min:"0",placeholder:"0",defaultValue:O.quantity||"",onChange:function(e){E(e.target.value),e.target.value},name:"cantidad"}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{class:" button is-primary ",type:"submit"},"Submit"))))}function Ie(){return l.a.createElement(s.a,null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/about"},l.a.createElement(d,null)),l.a.createElement(m.b,{path:"/SignIn"},l.a.createElement(p,null)),l.a.createElement(m.b,{path:"/EditGood"},l.a.createElement(Le,null)),l.a.createElement(m.b,{exact:!0,path:"/"},l.a.createElement(m.a,{to:"/Dashboard"})),l.a.createElement(m.b,{path:"/Dashboard"},l.a.createElement(j,null)),l.a.createElement(m.b,{path:"/DefaultLanding"},l.a.createElement(O,null)),l.a.createElement(m.b,{path:"/ZoneDashboard"},l.a.createElement(z,null)),l.a.createElement(m.b,{path:"/Recipes"},l.a.createElement(X,null)),l.a.createElement(m.b,{path:"/Registry"},l.a.createElement(ne,null)),l.a.createElement(m.b,{path:"/History"},l.a.createElement(ve,null)),l.a.createElement(m.b,{path:"/Inventary"},l.a.createElement(Ne,null)),l.a.createElement(m.b,{path:"/EditRecipe"},l.a.createElement(ke,null))))}var Re=document.getElementById("root");r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,null,l.a.createElement(Ie,null))),Re)}},[[29,1,2]]]);
//# sourceMappingURL=main.18fd1936.chunk.js.map