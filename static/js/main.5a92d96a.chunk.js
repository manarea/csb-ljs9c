(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(44)},30:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);a(30);var n=a(0),l=a.n(n),c=a(23),r=a.n(c),s=a(2),i=a(4),o=a(14),u=a.n(o);var m=a(8);function d(e){var t=Object(m.h)().pathname,a=l.a.useRef(),n=l.a.useState(!1),c=Object(i.a)(n,2),r=c[0],s=c[1];return l.a.useEffect(function(){s(!1)},[t]),function(e,t){var a=l.a.useRef(t);l.a.useEffect(function(){a.current=t},[t]),l.a.useEffect(function(){var t=function(t){e.current&&!e.current.contains(t.target)&&a.current(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[e,a])}(a,function(){return s(!1)}),l.a.createElement("nav",{ref:a,className:"navbar",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement(d.Link,{href:"https://bulma.io"},l.a.createElement(d.Logo,null)),l.a.createElement(d.ToggleButton,{onClick:function(){return s(!r)},className:u()({"is-active":r})})),l.a.createElement("div",{className:u()("navbar-menu",{"is-active":r})},e.children))}function E(){return l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"title"}," Login "),l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-image"},l.a.createElement("figure",{class:"image is-4by3"},l.a.createElement("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})))),l.a.createElement("br",null),l.a.createElement("div",{class:"field"},l.a.createElement("p",{class:"control has-icons-left has-icons-right"},l.a.createElement("input",{class:"input",type:"email",placeholder:"Email"}),l.a.createElement("span",{class:"icon is-small is-left"},l.a.createElement("i",{class:"fas fa-envelope"})),l.a.createElement("span",{class:"icon is-small is-right"},l.a.createElement("i",{class:"fas fa-check"})))),l.a.createElement("div",{class:"field"},l.a.createElement("p",{class:"control has-icons-left"},l.a.createElement("input",{class:"input",type:"password",placeholder:"Password"}),l.a.createElement("span",{class:"icon is-small is-left"},l.a.createElement("i",{class:"fas fa-lock"})))),l.a.createElement("div",{class:"field"},l.a.createElement("p",{class:"control"},l.a.createElement("button",{class:"button is-success"},"Login")))))}d.Link=function(e){var t=u()("navbar-item",e.className);return e.href?l.a.createElement("a",Object.assign({},e,{className:t})):l.a.createElement(s.c,Object.assign({},e,{className:t,activeClassName:"is-active"}))},d.ToggleButton=function(e){return l.a.createElement("a",Object.assign({},e,{role:"button",className:u()("navbar-burger burger is-unselectable",e.className),"aria-label":"menu","aria-expanded":"false"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))},d.Logo=function(){return l.a.createElement("img",{src:"../imagen_mercadito.jpg",width:"45",height:"45",alt:"logo"})};var p=a(9),b=a(10),v=a(12),f=a(11);function g(){return l.a.createElement(d,null,l.a.createElement("div",{className:"navbar-end"},l.a.createElement(d.Link,{to:"/Dashboard",exact:!0},"Dashboard"),l.a.createElement(d.Link,{to:"/ZoneDashboard"},"Zonas"),l.a.createElement(d.Link,{to:"/Registry"},"Registros "),l.a.createElement(d.Link,{to:"/Inventario"},"Inventario"),l.a.createElement(d.Link,{to:"/Trabajadores"},"Trabajadores "),l.a.createElement("div",{className:"navbar-item"})))}function h(e){e.uid;var t=e.name,a=e.description;return l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column"},l.a.createElement("div",{class:"card"},l.a.createElement("header",{class:"card-header"},l.a.createElement("p",{className:"card-header-title"},t)),l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"content"},a,l.a.createElement("br",null))),l.a.createElement("footer",{class:"card-footer"},l.a.createElement(s.b,{class:"card-footer-item",to:"/ZoneDashboard"},"Revisar ",t)))))}var y=[{uid:"123",name:"Zonas",description:"Aqui se pueden revisar las areas en que se trabaja en el mercadito."},{uid:"1111111-11111-11111-11111-11111",name:"Trabajadores",description:"Area de gestion de contratos, documentos relacionados a los trabajadores, etc."}],j=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("section",{class:"section"},l.a.createElement("div",null,y.map(function(e){return l.a.createElement(h,e)}))))}}]),a}(l.a.Component),O=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("section",{class:"hero is-warning is-fullheight"},l.a.createElement("br",null),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column"},"1"),l.a.createElement("div",{class:"column"},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"container"},l.a.createElement("img",{src:"../imagen_mercadito.jpg",width:"256",height:"256",alt:"logo"})))),l.a.createElement("div",{class:"column"},"3"),l.a.createElement("br",null))))}}]),a}(l.a.Component),w=a(3),k=a.n(w),_=a(5);function q(e){var t=e.id,a=e.name,n=e.description;return l.a.createElement("div",null,l.a.createElement("section",{className:"section"},l.a.createElement("div",{class:"card"},l.a.createElement("header",{class:"card-header"},l.a.createElement("p",{class:"card-header-title"},t," - ",a)),l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"content"},n,l.a.createElement("br",null),l.a.createElement("br",null),"s Usuarios autorizados para editar registro:",l.a.createElement("ul",null,l.a.createElement("li",null,"Sra. Vivi"),l.a.createElement("li",null,"Maguita")),l.a.createElement("br",null),l.a.createElement("p",null,"Ultima Actualizacion de Registro"),l.a.createElement("time",{datetime:"2016-1-1"},"11:09 PM - 1 Jan 2016"))),l.a.createElement("footer",{class:"card-footer"},l.a.createElement(s.b,{class:"card-footer-item",to:{pathname:"/Recipes",state:{id:t}}},"Recetas"),l.a.createElement(s.b,{class:"card-footer-item",to:{pathname:"/Registry",state:{id:t}}},"Registro"),l.a.createElement(s.b,{class:"card-footer-item",to:{pathname:"/History",state:{id:t}}},"Historial")))),l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-home"})))}function S(e){return x.apply(this,arguments)}function x(){return(x=Object(_.a)(k.a.mark(function e(t){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.getItem("token"),a=new URL("https://manarea.xyz/".concat(t)),e.next=4,fetch(a,{method:"GET",headers:{accept:"application/json"}}).then(function(e){return e.json()}).catch(function(){return console.log("Error de cexi\xf3n inesperado. Por favor, int\xe9ntelo m\xe1s tarde"),null});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(){Object(m.g)();return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),a=new XMLHttpRequest;a.open("POST","https://manarea.xyz/area",!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(JSON.stringify({name:t.get("nombre"),description:t.get("descripcion"),recipies:[],stored_goods:{}})),window.location.reload()}},l.a.createElement("section",{class:"section"},l.a.createElement("label",{class:"label"},"Nombre de la Zona"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{required:!0,name:"nombre",class:"input",type:"text",placeholder:"Ej: Bodega"}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Descripcion de la Zona"),l.a.createElement("div",{class:"control"},l.a.createElement("textarea",{required:!0,name:"descripcion",class:"textarea",placeholder:"Ej: En esta zona donde se guardan los diferentes insumos..."}))),l.a.createElement("button",{class:" button is-primary",type:"submit"},"Submit"))))}var R=[{id:"123",name:"Panaderia",description:"Zona manejada por trabajador 1"},{id:"789",name:"Pasteleria",description:"Zona manejada por trabajador N"}];function N(e){var t=l.a.useState([]),a=Object(i.a)(t,2),c=a[0],r=a[1];function s(){return(s=Object(_.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=new XMLHttpRequest).onreadystatechange=Object(_.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:4==this.readyState&&200==this.status&&r(JSON.parse(this.responseText));case 1:case"end":return e.stop()}},e,this)})),t.open("GET","https://manarea.xyz/area",!0),t.setRequestHeader("accept","application/json"),t.send();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){var e=setInterval(function(){},1e4);return function(){s.apply(this,arguments)}(),function(){return clearInterval(e)}},[]),R=c,l.a.createElement(L,null)}var L=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).clickList=function(){n.setState({class_1:"is-active",class_2:"",style_1:"block",style_2:"none"})},n.clickAddZone=function(){n.setState({class_1:"",class_2:"is-active",style_1:"none",style_2:"block"})},n.state={class_1:"is-active",style_1:"block",class_2:"",style_2:"none"},n}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("div",{class:"tabs is-toggle is-fullwidth is-large"},l.a.createElement("ul",{class:"is-mobile"},l.a.createElement("li",{class:this.state.class_1},l.a.createElement("a",{onClick:this.clickList},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-image","aria-hidden":"true"})),l.a.createElement("span",null,"Zonas"),l.a.createElement("div",{style:{display:this.state.class_1?"is-active":""}}))),l.a.createElement("li",{class:this.state.class_2},l.a.createElement("a",{onClick:this.clickAddZone},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-music","aria-hidden":"true"})),l.a.createElement("span",null,"Crear Zona"))))),l.a.createElement("div",{style:{display:this.state.class_1?"":"none"}},R.map(function(e){return l.a.createElement(q,e)})),l.a.createElement("div",{style:{display:this.state.class_2?"":"none"}},l.a.createElement(C,null)))}}]),a}(l.a.Component),D={Harina:{quantity:1,weight:.5},Sal:{quantity:1,weight:.5},"Az\xfacar":{quantity:1,weight:.5}};function T(e){return Object.keys(e)}var z=T(D)[0],H=1,A=1,I={},P={};function Z(e){var t=Object(m.g)(),a=l.a.useState(""),n=Object(i.a)(a,2),c=(n[0],n[1]),r=l.a.useState(""),s=Object(i.a)(r,2),o=(s[0],s[1]),u=l.a.useState(""),d=Object(i.a)(u,2),E=(d[0],d[1]),p=l.a.useState({}),b=Object(i.a)(p,2),v=(b[0],b[1]),f=function(e){var t=e.target.value.split(","),a=t[0],n={quantity:t[1],weight:t[2]};I[a]=n,v.apply(void 0,[t]),P[t[0]]={quantity:t[1],weight:t[2]}},g=function(e){console.log("lista ingredientes",I),console.log("llave",e.target.value),delete I[e.target.value],console.log("lista ingredientes",I),c(e.target.value)};return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n=new FormData(a.currentTarget);console.log({receta:n.get("receta"),descripcion:n.get("descripcion"),autor:n.get("autor")}),console.log("Enviando a Back",e.id_zona);var l=new XMLHttpRequest;l.open("POST","https://manarea.xyz/area/"+e.id_zona+"/add_recipe",!0),l.setRequestHeader("Content-Type","application/json;charset=UTF-8"),l.send(JSON.stringify({name:n.get("receta"),description:n.get("descripcion"),author:n.get("autor"),ingredients:P})),t.push("/ZoneDashboard",{id:e.id_zona}),console.log("los pits",e)}},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"control"},l.a.createElement("input",{required:!0,name:"receta",class:"input",type:"text",placeholder:"Nombre de la receta."}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{required:!0,name:"descripcion",class:"input ",type:"text",placeholder:"Descripcion"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{required:!0,name:"autor",class:"input ",type:"text",placeholder:"Autor"}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter "},l.a.createElement("label",{class:"label"},"Ingrediente"),l.a.createElement("div",{class:"select is-fullwidth "},l.a.createElement("select",{name:"nombre",value:z,onChange:function(e){c(e.target.value),z=e.target.value}},T(D).map(function(e){return l.a.createElement("option",null,e)})))),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Cantidad"),l.a.createElement("input",{class:"input ",type:"number",min:"1",max:"199",placeholder:"1",defaultValue:"1",onChange:function(e){E(e.target.value),A=e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Peso"),l.a.createElement("input",{class:"input ",type:"number",min:"1",placeholder:"1",defaultValue:"1",onChange:function(e){o(e.target.value),H=e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Agregar"),l.a.createElement("button",{class:"button is-link",value:[z,A,H],onClick:function(e){f(e)},type:"button"},"+"))),l.a.createElement("section",{class:"section"},l.a.createElement("h1",{class:"title"},"Ingredientes"),l.a.createElement("ul",null,T(I).map(function(e){return l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-one-quarter"},l.a.createElement("li",null,e," - Cantidad: ",I[e].quantity," -"," ","Peso:",I[e].weight," Kg")),l.a.createElement("div",{class:"column"},l.a.createElement("button",{class:"button is-link",value:e,onClick:g,type:"button"},"x")))}))),l.a.createElement("button",{class:" button is-primary ",type:"submit"},"Submit"))))}function J(e){var t=Object(m.g)();var a;return l.a.createElement("div",null,l.a.createElement("section",{className:"section"},l.a.createElement("div",{class:"card"},l.a.createElement("header",{class:"card-header"},l.a.createElement("p",{class:"card-header-title"},e.row.name," by: ",e.row.author," ")),l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-mobile "},"Ingredientes:",l.a.createElement("ul",null,(a=e,Object.keys(a.row.ingredients)).map(function(t){return l.a.createElement("li",null,t," :"," ",e.row.ingredients[t].quantity*e.row.ingredients[t].weight," ","KG"," ")})),l.a.createElement("br",null),l.a.createElement("p",null,"Ultima Actualizacion de Registro"),l.a.createElement("time",{datetime:"2016-1-1"},"11:09 PM - 1 Jan 2016")),l.a.createElement("div",{class:"column is-mobile "},l.a.createElement("figure",{class:"image is-256x256"},l.a.createElement("img",{src:"https://roggendorf.cl/wp-content/uploads/2016/12/Hallullas-min.jpg"})))))),l.a.createElement("footer",{class:"card-footer"},l.a.createElement(s.b,{class:"card-footer-item",to:{pathname:"/EditRecipe",state:e}},"Editar"),l.a.createElement("a",{onClick:function(a){var n=new XMLHttpRequest;n.open("DELETE","https://manarea.xyz/area/"+e.id_zona+"/remove_recipe/"+e.row.uid,!0),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.send(JSON.stringify({})),t.push("/Recipes",{id:e.id_zona})},class:"card-footer-item"},"Eliminar")))),l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-home"})))}var M=[],U=0;function V(e){Object(m.g)(),Object(m.i)().handle;var t=Object(m.h)();t.state,U=t.state.id,console.log("Id de la Zona?",U);var a=l.a.useState([]),c=Object(i.a)(a,2),r=c[0],s=c[1];function o(){return(o=Object(_.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=new XMLHttpRequest).onreadystatechange=Object(_.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:4==this.readyState&&200==this.status&&(console.log(JSON.parse(this.responseText)),s(JSON.parse(this.responseText)));case 1:case"end":return e.stop()}},e,this)})),t.open("GET","https://manarea.xyz/area/"+U+"/get_all_recipies",!0),t.setRequestHeader("accept","application/json"),t.send();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){o.apply(this,arguments)}()},[]),M=r,console.log("recetas",M),l.a.createElement("div",null,l.a.createElement(F,U))}var F=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).clickList=function(){n.setState({class_1:"is-active",class_2:"",style_1:"block",style_2:"none"})},n.clickAddRecipe=function(){n.setState({class_1:"",class_2:"is-active",style_1:"none",style_2:"block"})},n.state={class_1:"is-active",style_1:"block",class_2:"",style_2:"none"},n}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("div",{class:"tabs is-toggle is-fullwidth is-large"},l.a.createElement("ul",null,l.a.createElement("li",{class:this.state.class_1},l.a.createElement("a",{onClick:this.clickList},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-image","aria-hidden":"true"})),l.a.createElement("span",null,"Recetas"),l.a.createElement("div",{style:{display:this.state.class_1?"is-active":""}}))),l.a.createElement("li",{class:this.state.class_2},l.a.createElement("a",{onClick:this.clickAddRecipe},l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-music","aria-hidden":"true"})),l.a.createElement("span",null,"Crear Receta"))))),l.a.createElement("div",{style:{display:this.state.class_1?"":"none"}},M.map(function(e){return l.a.createElement(J,{row:e,id_zona:U})})),l.a.createElement("div",{style:{display:this.state.class_2?"":"none"}},console.log("Justo antes de dar el pase",U),l.a.createElement(Z,{id_zona:U,props:this.state})))}}]),a}(l.a.Component),X=a(18),B="",G=1,K={},Y=[];function Q(e){var t=(new Date).toLocaleDateString("en-CA"),a=(Object(m.g)(),Object(m.h)()),c=l.a.useState([]),r=Object(i.a)(c,2),s=r[0],o=r[1],u=l.a.useState(""),d=Object(i.a)(u,2),E=d[0],p=d[1],b=l.a.useState(""),v=Object(i.a)(b,2),f=v[0],h=v[1],y=l.a.useState(""),j=Object(i.a)(y,2),O=(j[0],j[1]),w=l.a.useState({}),q=Object(i.a)(w,2),x=(q[0],q[1]),C=l.a.useState(""),R=Object(i.a)(C,2),N=R[0],L=R[1];function D(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(n.name==t)return n.uid}}function T(){return(T=Object(_.a)(k.a.mark(function e(){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("area/"+a.state.id+"/get_all_recipies");case 2:return n=e.sent,e.t0=o,e.next=6,n;case 6:return e.t1=e.sent,(0,e.t0)(e.t1),L(t),p(n[0].name),h(D(n,n[0].name)),e.next=13,n;case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(){T.apply(this,arguments)}()},[]);var z=function(e){var t=e.target.value.split(",");console.log("values",e.target.value);var a=t[0];K[a]={cantidad:t[1],uid:f},console.log(K),x(e.target.value)},H=function(e){delete K[e.target.value],p(e.target.value)};return Y=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push(n.name)}return t}(s),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n={date:N,recipies_uids_add:Object(X.a)({},f,{quantity:G})},l=new XMLHttpRequest;l.open("POST","https://manarea.xyz/area/"+a.state.id+"/add_registry",!0),l.setRequestHeader("Content-Type","application/json;charset=UTF-8"),l.setRequestHeader("accept","application/json"),l.send(JSON.stringify({date:N,recipies_uids_add:Object(X.a)({},f,{quantity:G})})),console.log("body",n),console.log("los pits",e)}},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-one-quarter "},l.a.createElement("label",{class:"label"},"Fecha"),l.a.createElement("input",{class:"input ",type:"date",placeholder:t,defaultValue:t,required:!0,onChange:function(e){L(e.target.value),t=e.target.value,K={},Y=[]}}))),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-one-quarter "},l.a.createElement("label",{class:"label"},"Receta"),l.a.createElement("div",{class:"select is-fullwidth "},l.a.createElement("select",{required:!0,name:"nombre",value:E,onChange:function(e){p(e.target.value),B=e.target.value,console.log(B),h(D(s,B))}},Y.map(function(e){return l.a.createElement("option",null,e)})))),l.a.createElement("div",{class:"column is-one-quarter "},l.a.createElement("label",{class:"label"},"Cantidad"),l.a.createElement("input",{class:"input ",type:"number",min:"1",max:"199",placeholder:"1",defaultValue:"1",onChange:function(e){O(e.target.value),G=e.target.value},required:!0})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Agregar"),l.a.createElement("button",{class:"button is-link",value:[E,G,N],onClick:function(e){z(e)},type:"button"},"+"))),l.a.createElement("h1",{class:"title "},"Recetas"),l.a.createElement("h2",{class:"subtitle"},l.a.createElement("ul",null,Object.keys(K).map(function(e){return l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter"},l.a.createElement("li",null,e," - ",K[e].cantidad)),l.a.createElement("div",{class:"column"},l.a.createElement("button",{class:"button is-link",value:e,onClick:H,type:"button"},"x")))})))),l.a.createElement("section",{class:"section"},l.a.createElement("button",{class:" button is-primary "},"Submit"),l.a.createElement("section",null))))}var W=a(28),$=(a(41),a(27));a(42);function ee(e){var t=e.recetas,a=e.resumen_insumos;return l.a.createElement("div",null,l.a.createElement("section",{className:"section"},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"content"},l.a.createElement("h1",{class:"title"},"Recetas"),l.a.createElement("ul",null,Object.keys(t).map(function(e){return l.a.createElement("li",null,"Nombre Receta: ",e," - Cantidad hecha: ",t[e])}))),l.a.createElement("div",{class:"content"},l.a.createElement("h1",{class:"title"},"Resumen Insumos"),l.a.createElement("ul",null,l.a.createElement("div",null,l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-one-quarter "},l.a.createElement("label",{class:"label"},"Nombre Ingrediente")),l.a.createElement("div",{class:"column is-three-quarter "},l.a.createElement("label",{class:"label"},"Cantidad ocupada")))),Object.keys(a).map(function(e){return l.a.createElement("div",null,l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-one-quarter "},e),l.a.createElement("div",{class:"column is-three-quarter "},a[e]," KG")))})))))),l.a.createElement("span",{class:"icon"},l.a.createElement("i",{class:"fas fa-home"})))}var te=a(26),ae=a.n(te),ne={id:1,calendar:{"2022-01-01":{recipies_uids:{"03d788f1-8aea-448d-87a2-93c4c850d370":5,"9246f6f6-017e-4b11-96ce-89b2e2e71432":5}},"2022-01-05":{recipies_uids:{"03d788f1-8aea-448d-87a2-93c4c850d370":1,"9246f6f6-017e-4b11-96ce-89b2e2e71432":1}},"2022-01-13":{recipies_uids:{"03d788f1-8aea-448d-87a2-93c4c850d370":3,"9246f6f6-017e-4b11-96ce-89b2e2e71432":1}}}},le=[],ce=0,re=0,se=[],ie=[{}],oe={recetas:{},resumen_insumos:{}};function ue(){var e=Object(n.useState)(new Date),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(i.a)(r,2),o=s[0],u=s[1],d=Object(m.h)();function E(e){var t=oe.recetas,a=oe.resumen_insumos;e.forEach(function(e){0==Object.keys(t).includes(e.name)?t[e.name]=e.quantity:t[e.name]+=e.quantity,Object.keys(e.ingredients).map(function(t){0==Object.keys(a).includes(t)?a[t]=e.ingredients[t].quantity*e.ingredients[t].weight:a[t]+=e.ingredients[t].quantity*e.ingredients[t].weight})}),console.log("resumen_general",oe),u.apply(void 0,[o])}function p(){return(p=Object(_.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("area/".concat(d.state.id,"/get_all_registries"));case 2:t=e.sent,a=ne=t,le=Object.keys(a),u.apply(void 0,[o]);case 6:case"end":return e.stop()}var a},e)}))).apply(this,arguments)}function b(){return(b=Object(_.a)(k.a.mark(function e(t,a){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("area/".concat(d.state.id,"/get_recipe/").concat(t));case 2:return(n=e.sent).quantity=a,ie.push(n),u.apply(void 0,[n]),"Recipe not found"==n.message?console.log("Receta no encontrada"):E([n]),n.quantity=a,ie.push(n),u.apply(void 0,[n]),e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){p.apply(this,arguments)}(),u.apply(void 0,Object(W.a)(o))},[]),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("div",null,l.a.createElement("section",{class:"section "},l.a.createElement("div",{class:"columns is-centered is-mobile"},l.a.createElement("div",{className:"result-calendar "},l.a.createElement($.a,{onChange:function(e){c(e),ce=e[0].toLocaleDateString("en-CA"),re=e[1].toLocaleDateString("en-CA"),se=[],ie=[],oe={recetas:{},resumen_insumos:{}};for(var t=new Date(ce);t<=new Date(re);){se.push(t.toISOString("en-CA").slice(0,10));var a=t.setDate(t.getDate()+1);t=new Date(a)}se.forEach(function(e){!0===Object.keys(ne).includes(e)&&Object.keys(ne[e].recipies_uids).forEach(function(t){!function(e,t){b.apply(this,arguments)}(t,ne[e].recipies_uids[t])})})},value:a,selectRange:!0,markingType:"multi-dot",tileContent:function(e){var t=e.date;e.view;if(le.find(function(e){return e===ae()(t).format("YYYY-MM-DD")}))return l.a.createElement("svg",{height:"14.5",width:"7"},l.a.createElement("circle",{cx:"3.5",cy:"3.7",r:"3",stroke:"black","stroke-width":"1",fill:"#13c6e7"}))}}))),0==Object.keys(oe.recetas).length?null:l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter"},l.a.createElement("ul",null,l.a.createElement("div",null,l.a.createElement(ee,oe))))))))}var me={Harina:{quantity:1,weight:.5},Sal:{quantity:1,weight:.5},"Az\xfacar":{quantity:1,weight:.5}};function de(e){return Object.keys(e)}var Ee=de(me)[0],pe=1,be=1,ve={},fe={};function ge(e){Object(m.i)().handle;var t=Object(m.h)(),a=Object(m.g)(),n=l.a.useState(""),c=Object(i.a)(n,2),r=(c[0],c[1]),s=l.a.useState(""),o=Object(i.a)(s,2),u=(o[0],o[1]),d=l.a.useState(""),E=Object(i.a)(d,2),p=(E[0],E[1]),b=l.a.useState({}),v=Object(i.a)(b,2),f=(v[0],v[1]),h=function(e){var t=e.target.value.split(","),a=t[0],n={quantity:t[1],weight:t[2]};ve[a]=n,f.apply(void 0,[t]),fe[t[0]]={quantity:t[1],weight:t[2]}},y=function(e){console.log("lista ingredientes",ve),console.log("llave",e.target.value),delete ve[e.target.value],console.log("lista ingredientes",ve),r(e.target.value)},j=t.state;return ve=j.row.ingredients,fe=j.row.ingredients,console.log("este deberia ser el state",j),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget);console.log({receta:n.get("receta"),descripcion:n.get("descripcion"),autor:n.get("autor")}),console.log("Enviando a Back",e.id_zona);var l=new XMLHttpRequest;l.open("PUT","https://manarea.xyz/area/"+j.id_zona+"/update_recipe/"+j.row.uid,!0),l.setRequestHeader("Content-Type","application/json;charset=UTF-8"),l.send(JSON.stringify({name:n.get("receta"),description:n.get("descripcion"),author:n.get("autor"),ingredients:fe})),a.push("/Recipes",{id:j.id_zona})}},l.a.createElement("section",{class:"section"},l.a.createElement("div",{class:"control",onLoad:function(e){r(e.target.value)},value:"asd"},l.a.createElement("input",{required:!0,name:"receta",class:"input",type:"text",placeholder:"Nombre de la receta",defaultValue:j.row.name||""}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{required:!0,name:"descripcion",class:"input ",type:"text",placeholder:"Descripcion",defaultValue:j.row.description||""}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{required:!0,name:"autor",class:"input ",type:"text",placeholder:"Autor",defaultValue:j.row.author||""}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter "},l.a.createElement("label",{class:"label"},"Ingrediente"),l.a.createElement("div",{class:"select is-fullwidth "},l.a.createElement("select",{name:"nombre",value:Ee,onChange:function(e){r(e.target.value),Ee=e.target.value}},de(me).map(function(e){return l.a.createElement("option",null,e)})))),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Cantidad"),l.a.createElement("input",{class:"input ",type:"number",min:"1",max:"199",placeholder:"1",defaultValue:"1",onChange:function(e){p(e.target.value),be=e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Peso"),l.a.createElement("input",{class:"input ",type:"number",min:"1",placeholder:"1",defaultValue:"1",onChange:function(e){u(e.target.value),pe=e.target.value}})),l.a.createElement("div",{class:"column"},l.a.createElement("label",{class:"label"},"Agregar"),l.a.createElement("button",{class:"button is-link",value:[Ee,be,pe],onClick:function(e){h(e)},type:"button"},"+"))),l.a.createElement("section",{class:"section"},l.a.createElement("h1",{class:"title"},"Ingredientes"),l.a.createElement("ul",null,de(ve).map(function(e){return l.a.createElement("div",{class:"columns is-mobile"},l.a.createElement("div",{class:"column is-two-quarter"},l.a.createElement("li",null,e," - Cantidad: ",ve[e].quantity," -"," ","Peso:",ve[e].weight," Kg")),l.a.createElement("div",{class:"column"},l.a.createElement("button",{class:"button is-link",value:e,onClick:y,type:"button"},"x")))}))),l.a.createElement("button",{class:" button is-primary ",type:"submit"},"Submit"))))}function he(){return l.a.createElement(s.a,null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/about"},l.a.createElement(d,null)),l.a.createElement(m.b,{path:"/SignIn"},l.a.createElement(E,null)),l.a.createElement(m.b,{exact:!0,path:"/"},l.a.createElement(m.a,{to:"/Dashboard"})),l.a.createElement(m.b,{path:"/Dashboard"},l.a.createElement(j,null)),l.a.createElement(m.b,{path:"/DefaultLanding"},l.a.createElement(O,null)),l.a.createElement(m.b,{path:"/ZoneDashboard"},l.a.createElement(N,null)),l.a.createElement(m.b,{path:"/Recipes"},l.a.createElement(V,null)),l.a.createElement(m.b,{path:"/Registry"},l.a.createElement(Q,null)),l.a.createElement(m.b,{path:"/History"},l.a.createElement(ue,null)),l.a.createElement(m.b,{path:"/EditRecipe"},l.a.createElement(ge,null))))}var ye=document.getElementById("root");r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,null,l.a.createElement(he,null))),ye)}},[[29,1,2]]]);
//# sourceMappingURL=main.5a92d96a.chunk.js.map